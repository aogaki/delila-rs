# DELILA DAQ Configuration - PSD1 Real Hardware Test
# Hardware: DT5730B (Serial: 990, DPP-PSD, USB, 8ch, 14-bit, 500 MS/s)
# Usage: ./scripts/start_daq.sh config/config_psd1_test.toml

[operator]
experiment_name = "PSD1_Test"

[network]
# Real PSD1 digitizer (DT5730 via USB)
[[network.sources]]
id = 0
name = "psd1-dt5730"
type = "psd1"
bind = "tcp://*:5555"
command = "tcp://*:5560"
digitizer_url = "dig1://caen.internal/usb?link_num=0"
config_file = "config/digitizers/psd1_test.json"
pipeline_order = 1

# Merger
[network.merger]
subscribe = ["tcp://localhost:5555"]
publish = "tcp://*:5557"
command = "tcp://*:5570"
pipeline_order = 2

# Recorder
[network.recorder]
subscribe = "tcp://localhost:5557"
command = "tcp://*:5580"
output_dir = "./data"
pipeline_order = 3

# Monitor
[network.monitor]
subscribe = "tcp://localhost:5557"
command = "tcp://*:5590"
http_port = 8081
pipeline_order = 3
